---
layout:     post
title:      "将tif文件转换成mrc文件"
subtitle:   "tif 转换成 .mrc"
date:       2018-07-18
author:     "ray"
header-img: "img/tiff_mrc.jpg"
tags:
    - mrc2tif
    - 技巧教程
---

## 首先将tiff堆转换成单页

***

```
path='/home/arine-lab/Reference/'; %原文件路径
savepath='/home/arine-lab/list_tiff/';   %新文件路径    

for i=1:100   %图片层数，可通过windows图片查看器知晓  
    I = imread([path,'NameOfTiff.tif'],i);   %读入文件的第i页
    imwrite(I,[savepath,num2str(i,'%04d'),'.tif']);   %保存单层图片，以其在原文件中的顺序命名
end
```

## 转换成mrc

***

	<//bio3d.colorado.edu/imod/doc/man/tif2mrc.html>
	
```
	tif2mrc [options]  TIFF_input_files...  MRC_output_file
```

#### 批量将tif 转换成mrc的脚本

***

```
#!/bin/sh
#copy the exact files to a new dir ,and tif2mrc the files of the new dir
 
cd /home/list_tiff # home of tif pics 
mkdir ../tif_list # a dir for tif_lists

# 300 is the num of tif pics 
for((i=1;i<=300;i++)) 
do
	a=$((10000+$i))
	mkdir ../tif_list/${a:1}	
	for((j=i;j<i+25;j++))
	do
	b=$((10000+$j))
	cp ./${b:1}.tif ../tif_list/${a:1}/
	done
	
tif2mrc -d ../tif_list/${a:1}/*.tif  ../mrc_list/${a:1}.mrc
done

```

## 参考链接
***

1. //bio3d.colorado.edu/imod/doc/man/tif2mrc.html
2. https://hpc.nih.gov/apps/IMOD.html
3. //bio3d.colorado.edu/imod/doc/mrc_format.txt


